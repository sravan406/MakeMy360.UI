<div class="container">
    <form>
        <h1>Project Details</h1>
        <div class="form-group">
            <button *ngIf="showBackbtn" type="submit" class="btn btn-primary" style="align-content: right;"
                (click)="hideProjectDetails = true;showBackbtn = false;">Back</button>
        </div>
        <div [hidden]="hideProjectDetails">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="companyName">Company Name</label>
                        <select name="companyName" class="form-control" [(ngModel)]="projectDetails.CompanyId">
                            <option [value]="0">--Select--</option>
                            <option *ngFor="let method of companyNamesList" [value]="method.CompanyId">
                                {{ method.CompanyName }}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="projectName">Project Type</label>
                        <select name="timeperiod" class="form-control" [(ngModel)]="projectDetails.ProjectTypeId">
                            <option [value]="0">--Select--</option>
                            <option *ngFor="let method of projectTypeList" [value]="method.ProjectTypeId">
                                {{ method.ProjectType }}</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="projectName">Project Name</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.ProjectName"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="location">Location</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.Location"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="Project Initial Image">Project Initial Image</label>
                        <input type='file' (change)="onSelectInitialFile($event)">
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="Project Initial Image">Protfolio Image</label>
                        <input type='file' (change)="onSelectProtfolioFile($event)">
                    </div>
                </div>
            </div>

            <!-- <div class="form-group" style="margin-top: 50px;margin-left: -15px;">
                    <label for="Upload Paranoma">Upload Paranoma</label>
                    <input type='file' (change)="onSelectFile($event)" multiple>
                  </div>
                  <input type="file" id="ctrl" webkitdirectory directory multiple/> -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="Pranoma Location">Paranoma Location</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.ParanomaPath"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="VideoFrame">Video Frame</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.VideoFrame"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>

            <!-- <div class="form-group col-md-6"> -->
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="Google Map Link">Google Map Link</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.GoogleMap"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="Project End Date">Project End Date</label>
                        <input type="date" class="form-control" id="name" [(ngModel)]="projectDetails.ProjectEndDate"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="location">Mobile Number</label>
                        <input type="number" class="form-control" id="name" [(ngModel)]="projectDetails.MobileNumber"
                            maxlength="10" [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="location">Website</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.Website"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="location">Email Id</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.EmailId"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="location">Description</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.Description"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="location">No Of Images</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.NoOfImages"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="location">Total Amount</label>
                        <input type="text" class="form-control" id="name" [(ngModel)]="projectDetails.TotalAmount"
                            [ngModelOptions]="{standalone: true}">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <button class="btn btn-primary" type="button" (click)="addFieldValue()">Add</button>
                <table class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>Highlight Points</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let field of pointsArray; let i = index">
                            <td>
                                <input [(ngModel)]="field.Points" class="form-control" type="text"
                                    name="{{field.Points}}" [ngModelOptions]="{standalone: true}" />
                            </td>
                            <td>
                                <button class="btn btn-default" type="button"
                                    (click)="deleteFieldValue(i)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <!-- <input type="file" id="FileUpload" onchange="selectFolder(event)" webkitdirectory mozdirectory msdirectory odirectory directory multiple /> -->
            <div class="form-group">
                <button *ngIf="showSavebtn" type="submit" class="btn btn-primary" style="align-content: right;"
                    (click)="saveProject()">Save</button>
                <button *ngIf="!showSavebtn" type="submit" class="btn btn-primary" style="align-content: right;"
                    (click)="updateProject()">Update</button>
            </div>
        </div>
        <div [hidden]="!hideProjectDetails">
            <button type="submit" class="btn btn-primary" style="align-content: right;"
                (click)="addProject();showSavebtn = true;showBackbtn = true;">Add</button>
            <br />
            <p-table #dt1 [columns]="cols" [value]="projectDetailsList" [paginator]="true" [rows]="10" dataKey="vin"
                [resizableColumns]="true" [reorderableColumns]="true" selectionMode="single">
                <ng-template pTemplate="header" let-columns>
                    <tr>
                        <th *ngFor="let col of cols" [pSortableColumn]="col.field" pResizableColumn pReorderableColumn>
                            {{col.header}}
                            <p-sortIcon [field]="col.field"></p-sortIcon>
                        </th>
                        <th pResizableColumn pReorderableColum>Action<i class="pi pi-filter"
                                (click)="showFilter = !showFilter" style="float: right;"></i></th>
                    </tr>
                    <tr *ngIf="showFilter">
                        <th *ngFor="let col of cols" [ngSwitch]="col.field" class="ui-fluid">
                            <input pInputText type="text"
                                (input)="dt1.filter($event.target.value, col.field, 'contains')"
                                [value]="dt1.filters[col.field]?.value">
                        </th>
                        <th></th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-rowData let-columns="columns">
                    <tr [pSelectableRow]="rowData">
                        <td *ngFor="let col of columns">
                            {{rowData[col.field]}}
                        </td>
                        <td>
                            <i class="fa fa-edit" style="font-size:20px;color:#337ab7;"
                                (click)="clickOnEdit(rowData);showSavebtn = false;hideProjectDetails=false;showBackbtn = true;"
                                aria-placeholder="Edit"></i><i class="fa fa-trash-o"
                                style="font-size:20px;color:rgb(226, 109, 109);padding-left: 20px;"
                                aria-placeholder="Delete" (click)="clickOnDelete()"></i></td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </form>
</div>